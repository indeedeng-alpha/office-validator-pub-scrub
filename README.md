Description
=========

site-verify.yml is a play that calls roles to validate an overall office deployment and generate a report. The current roles used by site-verify are cumulus-core, aruba-access, cisco-dmvpn, palo-firewall, tools-server, and generate-report, but more roles will be added in the future to verify each device type. The end result is that a report is generated on the report server that can be retrieved and viewed to determine if a site passes or fails validation.

setup-report-server.yml is a play that will build out an nginx web server where the reports generated by site-verify.yml are stored. This play requires 2 roles: ansible-role-nginx which was made by nginx and setup-report-server.

Requirements
------------
site-verify.yml and setup-report-server.yml requirements:
The office must be reachable from the server where the play is run, the device credentials must be set to the standard remote office credentials, and the user must have the vault password where the device passwords and usernames are stored. Ideally, this is meant to be run from Ansible Tower with credentials stored in Tower. The inventory file must also be set up correctly like the examples.

setup-report-server.yml must be run before site-verify.yml as the web server is a requirement for report storage.

Running the Playbook
----------------

For site-verify:
The play is meant to be run from Ansible Tower, but it can be run locally via:

ansible-playbook site-verify.yml -i {{INVENTORY_FILE}} --ask-vault-pass
example:
ansible-playbook site-verify.yml -i office1.ini --ask-vault-pass

The vault password will need to be entered when prompted.

---

For setup-report-server.yml:
The play is meant to be run from Ansible Tower, but it can be run locally via:

ansible-playbook setup-report-server.yml -i inventories/report_servers.ini --ask-vault-pass

The vault password will need to be entered when prompted.


License
-------

BSD

Author Information
------------------

Sarah Tovar, May 2019
stovar@indeed.com
